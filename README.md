# 仮想SMTPサービス

このプロジェクトは、開発やテスト環境で使用するための仮想SMTPサービスを提供します。受信したメールをWebインターフェースで確認できます。

## 主な機能

1. SMTPサーバー機能
   - 標準SMTPプロトコルをサポート
   - 添付ファイルの処理対応
   - マルチパートメッセージの処理

2. Webインターフェース
   - リアルタイムメール表示
   - HTMLメールのプレビュー機能
   - 添付ファイルのダウンロード機能
   - メール検索とフィルタリング
   - レスポンシブデザイン
   - サーバー情報表示（右上に固定表示）

3. データ管理
   - SQLiteによるメール永続化
   - 定期的な古いメールの自動削除
   - 手動でのメール削除機能
   - メールの保持期間設定

4. 特殊機能
   - URLの自動リンク化
   - プログラミング言語の名前空間保護
   - メール本文の最適化表示
   - 複数行テキストの整形

## 最新の更新内容

1. URL変換機能の改善
   - プログラミング言語の名前空間を誤検出しないように保護
   - パスワードリセットURLなどの特殊URLの保護
   - より正確なURL検出パターン

2. テキスト表示の最適化
   - 行間隔の調整
   - 余分な空白の除去
   - プレビュー表示の改善

3. サーバー情報表示
   - SMTPサーバーのアドレスとポート
   - Webインターフェースのアクセス情報
   - 見やすい固定位置表示

## 設定方法

1. 環境変数の設定（.env）
   ```
   SMTP_SERVER=0.0.0.0
   SMTP_PORT=25
   SENDER_EMAIL=noreply@example.com
   LOG_DIR=logs
   DB_FILE=emails.db
   RETENTION_DAYS=7
   ```

2. 必要なパッケージのインストール
   ```
   pip install -r requirements.txt
   ```

3. サーバーの起動
   ```
   python start.py
   ```

## 使用方法

1. SMTPサーバーの設定
   - ホスト: サーバーのIPアドレス
   - ポート: 25（デフォルト）

2. Webインターフェースへのアクセス
   - URL: http://サーバーのIPアドレス:5000
   - メール一覧の確認
   - 検索とフィルタリング
   - HTMLプレビュー
   - 添付ファイルのダウンロード

## 注意事項

- このサービスはテスト環境専用です
- 実際のメール送信には使用しないでください
- セキュリティ保護は最小限です

## ライセンス

MIT License 